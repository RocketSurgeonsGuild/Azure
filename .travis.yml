language: csharp
sudo: required
dist: trusty
mono: latest
os:
- linux
git:
  depth: 1
cache:
  directories:
  - tools
  - "$HOME/.nuget/packages"
before_cache:
- rm -f tools/packages.config
before_script:
- curl https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > microsoft.gpg
- sudo mv microsoft.gpg /etc/apt/trusted.gpg.d/microsoft.gpg
- sudo sh -c 'echo "deb [arch=amd64] https://packages.microsoft.com/repos/microsoft-ubuntu-trusty-prod
  trusty main" > /etc/apt/sources.list.d/dotnetdev.list'
- sudo apt-get update
- sudo apt-get install dotnet-dev-1.1.5
- sudo apt-get install dotnet-sdk-2.1.103
script:
- git fetch --unshallow
- git fetch origin '+refs/heads/*:refs/heads/*'
- git branch -r
- chmod 755 ./build.sh
- "./build.sh --verbosity Diagnostic"
notifications:
  slack:
    secure: APBKBa2hBKB+T2mJsil2AHZy017S0aw7s3McLhgEK48UXEmlKcRODmBWptUnNnv0wT441DOjamc+v38Ka/AxR0JTPbvI4Yxti5kU9r1agVT0CWEuHjAuPeGtARl72LQM12D5LB+FANS62zYVBX1z1aQUMH/+yBSUy/cuFVmytRqfZucSRbpNJtr7BLjYBKwr1XikgrXx1GM1FOUJEOVlFE1QeZ0p37tAyfOGbvRSmDPxaAaRTrF5CKIs4cUrDqSUGP6NFsqMlcVxWgwR9gMuKeOnHCkj9wjeHbDDPyLIg4io/qmQXhQlH9MrpTwSBlDoJKWi7KCY3qLGKFHnBk89P9YB1ARJ7Ro7jW2zuSDQMwMBxpWPSY6MxdHyYkP6Tj8fGbYBzCnQVeLoHx103e3rRNXyHsoDydeqq7Jcg2rBm4EDJ5b9V6ds/kKPiPucukOwdNvtazLOpo5TCrdMxp/0DqWyBJwppMq14rBBatslqLiq5sFYLgrc5P32xqgIOmlSlA+MMdJPlLlIQg7JHdYbi/TXqsOFefBAmNWPvWeRhngwlbgXSXbLSPYd/d4DJ9qhVfggGaCAgB/GdMAKqRzwBAw3vM5lMSed0MkEesTjgPW/krmns0Q+Zw/Hw6cSIilmDn3jPPlxT1Oe6eQkpaNDp7NY9+/uBC8OubIq4NIarEQ=
